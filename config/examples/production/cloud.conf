# Cloud Production UTC Daemon Configuration
# Optimized for cloud deployments (AWS, Azure, GCP)

# Network Configuration
listen_address = 0.0.0.0
listen_port = 37
enable_ipv6 = true
max_connections = 15000
connection_timeout = 8000
keepalive_timeout = 45000
enable_tcp_fastopen = true
tcp_fastopen_queue_size = 500

# UTC Server Configuration
stratum = 2
sync_interval = 32
timeout = 1000
reference_servers = ["time.nist.gov", "time.google.com", "pool.ntp.org"]
sync_retry_interval = 5
max_sync_retries = 3
enable_cloud_sync = true
cloud_sync_endpoint = "https://time.cloudprovider.com/api/v1/sync"
cloud_sync_api_key = ${UTCD_CLOUD_API_KEY}

# Logging Configuration
log_file = /var/log/simple-utcd/simple-utcd.log
log_level = INFO
enable_console_logging = false
enable_syslog = true
syslog_facility = local0
log_rotation_size = 150MB
log_rotation_count = 12
log_rotation_time = daily
enable_cloud_logging = true
cloud_log_endpoint = "https://logs.cloudprovider.com/api/v1/logs"
cloud_log_api_key = ${UTCD_CLOUD_LOG_KEY}
enable_structured_logging = true
log_format = json

# Security Configuration
enable_authentication = true
authentication_key = ${UTCD_AUTH_KEY}
authentication_timeout = 8000
authentication_algorithm = SHA256
enable_cloud_auth = true
cloud_auth_endpoint = "https://auth.cloudprovider.com/api/v1/verify"
cloud_auth_api_key = ${UTCD_CLOUD_AUTH_KEY}
session_timeout = 3600
max_failed_attempts = 3
lockout_duration = 300

# Access Control
denied_clients = []
allowed_clients = ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16"]
enable_cloud_acl = true
cloud_acl_endpoint = "https://acl.cloudprovider.com/api/v1/rules"
cloud_acl_api_key = ${UTCD_CLOUD_ACL_KEY}
enable_dynamic_acl = true
acl_update_interval = 300

# Rate Limiting and DDoS Protection
enable_rate_limiting = true
rate_limit_requests_per_minute = 1500
rate_limit_burst_size = 150
enable_cloud_ddos_protection = true
cloud_ddos_endpoint = "https://ddos.cloudprovider.com/api/v1/protect"
cloud_ddos_api_key = ${UTCD_CLOUD_DDOS_KEY}
enable_connection_limiting = true
max_connections_per_ip = 30
connection_limit_window = 60

# Encryption and TLS
enable_tls = true
tls_certificate_path = /etc/ssl/certs/utc-server.crt
tls_private_key_path = /etc/ssl/private/utc-server.key
tls_ca_certificate_path = /etc/ssl/certs/ca.crt
tls_cipher_suites = "ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256"
tls_protocols = "TLSv1.2,TLSv1.3"
enable_cloud_tls = true
cloud_tls_endpoint = "https://tls.cloudprovider.com/api/v1/certificates"
cloud_tls_api_key = ${UTCD_CLOUD_TLS_KEY}

# Performance Configuration
worker_threads = 24
thread_pool_size = 48
max_pending_connections = 1500
socket_buffer_size = 131072
enable_tcp_nodelay = true
enable_so_reuseport = true
enable_cloud_optimization = true
cloud_optimization_level = "high"

# Memory Management
memory_pool_size = 1572864
max_memory_usage = 1.5GB
enable_memory_pooling = true
garbage_collection_interval = 240
enable_cloud_memory = true
cloud_memory_endpoint = "https://memory.cloudprovider.com/api/v1/monitor"
cloud_memory_api_key = ${UTCD_CLOUD_MEMORY_KEY}

# Statistics and Monitoring
enable_statistics = true
stats_interval = 20
enable_detailed_stats = true
stats_retention_days = 60
enable_performance_counters = true
enable_cloud_metrics = true
cloud_metrics_endpoint = "https://metrics.cloudprovider.com/api/v1/metrics"
cloud_metrics_api_key = ${UTCD_CLOUD_METRICS_KEY}
enable_prometheus_metrics = true
prometheus_port = 9091

# Advanced Features
enable_connection_pooling = true
connection_pool_size = 3000
enable_async_io = true
io_threads = 6
enable_compression = false
enable_caching = true
cache_type = "redis"
cache_endpoint = "redis-cluster.cloudprovider.com:6379"
cache_ttl = 45
cache_size = 30000
enable_cloud_cache = true
cloud_cache_endpoint = "https://cache.cloudprovider.com/api/v1/redis"
cloud_cache_api_key = ${UTCD_CLOUD_CACHE_KEY}

# Load Balancing
enable_load_balancing = true
load_balance_algorithm = least_connections
upstream_servers = ["utc-node1.cloudprovider.com:37", "utc-node2.cloudprovider.com:37", "utc-node3.cloudprovider.com:37"]
health_check_interval = 20
health_check_timeout = 3000
health_check_path = "/health"
failover_timeout = 8000
max_failover_attempts = 3
enable_cloud_lb = true
cloud_lb_endpoint = "https://lb.cloudprovider.com/api/v1/balance"
cloud_lb_api_key = ${UTCD_CLOUD_LB_KEY}

# Cluster Configuration
enable_clustering = true
cluster_name = "utc-cloud-cluster"
node_id = ${UTCD_NODE_ID}
cluster_discovery_method = "cloud"
cloud_discovery_endpoint = "https://discovery.cloudprovider.com/api/v1/cluster"
cloud_discovery_api_key = ${UTCD_CLOUD_DISCOVERY_KEY}
cluster_heartbeat_interval = 10
cluster_failover_timeout = 20
enable_auto_join = true
auto_join_retry_interval = 45

# Service Discovery
enable_service_discovery = true
service_name = "simple-utcd-cloud"
service_tags = ["utc", "time", "cloud", "production"]
service_health_check = true
service_registration_ttl = 20
enable_health_endpoint = true
health_endpoint_port = 8080
health_endpoint_path = "/health"
enable_cloud_service_discovery = true
cloud_service_endpoint = "https://service.cloudprovider.com/api/v1/discovery"
cloud_service_api_key = ${UTCD_CLOUD_SERVICE_KEY}

# Health Monitoring
enable_health_checks = true
health_check_interval = 20
health_check_timeout = 3000
enable_auto_restart = true
max_restart_attempts = 3
restart_delay = 10
enable_graceful_shutdown = true
shutdown_timeout = 45
enable_cloud_health = true
cloud_health_endpoint = "https://health.cloudprovider.com/api/v1/monitor"
cloud_health_api_key = ${UTCD_CLOUD_HEALTH_KEY}

# Cloud-Specific Features
enable_auto_scaling = true
auto_scaling_endpoint = "https://scaling.cloudprovider.com/api/v1/scale"
auto_scaling_api_key = ${UTCD_CLOUD_SCALING_KEY}
min_instances = 2
max_instances = 10
scale_up_threshold = 80
scale_down_threshold = 20
enable_cloud_backup = true
cloud_backup_endpoint = "https://backup.cloudprovider.com/api/v1/backup"
cloud_backup_api_key = ${UTCD_CLOUD_BACKUP_KEY}
backup_interval = 3600
backup_retention_days = 30

# Network Security
enable_firewall_integration = true
firewall_rules_file = /etc/simple-utcd/firewall-rules.conf
enable_cloud_firewall = true
cloud_firewall_endpoint = "https://firewall.cloudprovider.com/api/v1/rules"
cloud_firewall_api_key = ${UTCD_CLOUD_FIREWALL_KEY}
enable_network_isolation = true
isolated_network_interface = eth1
enable_vlan_tagging = true
vlan_id = 200

# Debugging and Development
debug_mode = false
verbose_logging = false
enable_trace_logging = false
trace_file = /var/log/simple-utcd/trace.log
enable_profiling = false
profile_output = /var/log/simple-utcd/profile.out
enable_cloud_debug = false
