# Enterprise Production UTC Daemon Configuration
# Full-featured configuration for enterprise production environments

# Network Configuration
listen_address = 0.0.0.0
listen_port = 37
enable_ipv6 = true
max_connections = 20000
connection_timeout = 10000
keepalive_timeout = 60000
enable_tcp_fastopen = true
tcp_fastopen_queue_size = 1000

# UTC Server Configuration
stratum = 1
sync_interval = 16
timeout = 500
reference_servers = ["time.nist.gov", "time.google.com", "pool.ntp.org", "time.cloudflare.com"]
sync_retry_interval = 2
max_sync_retries = 5
enable_secure_sync = true
sync_certificate_path = /etc/ssl/certs/utc-sync.crt
sync_private_key_path = /etc/ssl/private/utc-sync.key
enable_ntp_sync = true
ntp_servers = ["0.pool.ntp.org", "1.pool.ntp.org", "2.pool.ntp.org"]

# Logging Configuration
log_file = /var/log/simple-utcd/simple-utcd.log
log_level = WARN
enable_console_logging = false
enable_syslog = true
syslog_facility = local0
log_rotation_size = 200MB
log_rotation_count = 15
log_rotation_time = daily
enable_audit_logging = true
audit_log_file = /var/log/simple-utcd/audit.log
enable_structured_logging = true
log_format = json
enable_log_aggregation = true
log_aggregation_endpoint = "https://logs.example.com:9200"

# Security Configuration
enable_authentication = true
authentication_key = ${UTCD_AUTH_KEY}
authentication_timeout = 10000
authentication_algorithm = SHA256
enable_multi_factor_auth = false
session_timeout = 7200
max_failed_attempts = 5
lockout_duration = 600
enable_password_policy = true
password_min_length = 12
password_complexity = true

# Access Control
denied_clients = []
allowed_clients = ["192.168.0.0/16", "10.0.0.0/8", "172.16.0.0/12"]
enable_geo_blocking = true
allowed_countries = ["US", "CA", "GB", "DE", "FR", "JP", "AU"]
blocked_countries = ["CN", "RU", "KP", "IR"]
enable_ip_whitelist = true
ip_whitelist_file = /etc/simple-utcd/ip-whitelist.txt
enable_dynamic_acl = true
acl_update_interval = 300

# Rate Limiting and DDoS Protection
enable_rate_limiting = true
rate_limit_requests_per_minute = 2000
rate_limit_burst_size = 200
enable_ddos_protection = true
ddos_threshold = 5000
ddos_block_duration = 3600
enable_connection_limiting = true
max_connections_per_ip = 50
connection_limit_window = 60
enable_adaptive_rate_limiting = true

# Encryption and TLS
enable_tls = true
tls_certificate_path = /etc/ssl/certs/utc-server.crt
tls_private_key_path = /etc/ssl/private/utc-server.key
tls_ca_certificate_path = /etc/ssl/certs/ca.crt
tls_cipher_suites = "ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-CHACHA20-POLY1305"
tls_protocols = "TLSv1.2,TLSv1.3"
enable_tls_client_auth = true
require_client_certificate = false
tls_session_cache_size = 10000
tls_session_timeout = 3600

# Performance Configuration
worker_threads = 32
thread_pool_size = 64
max_pending_connections = 2000
socket_buffer_size = 131072
enable_tcp_nodelay = true
enable_so_reuseport = true
enable_so_reuseaddr = true
enable_tcp_cork = false
enable_tcp_quickack = true

# Memory Management
memory_pool_size = 2097152
max_memory_usage = 2GB
enable_memory_pooling = true
garbage_collection_interval = 180
enable_memory_encryption = true
memory_encryption_key = ${UTCD_MEMORY_KEY}
enable_memory_mapping = true
mmap_size = 104857600

# Statistics and Monitoring
enable_statistics = true
stats_interval = 15
enable_detailed_stats = true
stats_retention_days = 90
enable_performance_counters = true
enable_security_metrics = true
enable_business_metrics = true
metrics_endpoint = "https://metrics.example.com:9090"
enable_prometheus_metrics = true
prometheus_port = 9091

# Advanced Features
enable_connection_pooling = true
connection_pool_size = 5000
enable_async_io = true
io_threads = 8
enable_compression = false
enable_caching = true
cache_type = "redis"
cache_endpoint = "redis-cluster.example.com:6379"
cache_ttl = 30
cache_size = 50000
enable_cache_clustering = true
cache_replication_factor = 3

# Load Balancing
enable_load_balancing = true
load_balance_algorithm = weighted_round_robin
upstream_servers = ["utc-node1.example.com:37", "utc-node2.example.com:37", "utc-node3.example.com:37"]
upstream_weights = [1, 1, 1]
health_check_interval = 15
health_check_timeout = 3000
health_check_path = "/health"
failover_timeout = 5000
max_failover_attempts = 5
enable_sticky_sessions = false
session_timeout = 300

# Cluster Configuration
enable_clustering = true
cluster_name = "utc-enterprise-cluster"
node_id = ${UTCD_NODE_ID}
cluster_discovery_method = "etcd"
etcd_endpoints = ["https://etcd1.example.com:2379", "https://etcd2.example.com:2379", "https://etcd3.example.com:2379"]
cluster_heartbeat_interval = 5
cluster_failover_timeout = 15
enable_auto_join = true
auto_join_retry_interval = 30
enable_leader_election = true
leader_election_timeout = 10

# Service Discovery
enable_service_discovery = true
service_name = "simple-utcd-enterprise"
service_tags = ["utc", "time", "enterprise", "production"]
service_health_check = true
service_registration_ttl = 15
enable_health_endpoint = true
health_endpoint_port = 8080
health_endpoint_path = "/health"

# Health Monitoring
enable_health_checks = true
health_check_interval = 15
health_check_timeout = 3000
enable_auto_restart = true
max_restart_attempts = 5
restart_delay = 5
enable_graceful_shutdown = true
shutdown_timeout = 60
enable_health_dashboard = true
dashboard_port = 8081

# Compliance and Auditing
enable_compliance_mode = true
compliance_standard = "SOX"
enable_data_retention = true
data_retention_days = 2555
enable_encrypted_logs = true
log_encryption_key = ${UTCD_LOG_KEY}
enable_audit_trail = true
audit_trail_retention_days = 2555
enable_data_classification = true
data_classification_level = "confidential"

# Backup and Recovery
enable_auto_backup = true
backup_interval = 1800
backup_retention_days = 90
backup_encryption = true
backup_encryption_key = ${UTCD_BACKUP_KEY}
backup_location = "s3://utc-backups.example.com"
enable_incremental_backup = true
enable_backup_verification = true

# Network Security
enable_firewall_integration = true
firewall_rules_file = /etc/simple-utcd/firewall-rules.conf
enable_network_isolation = true
isolated_network_interface = eth1
enable_vlan_tagging = true
vlan_id = 100
enable_network_monitoring = true
network_monitoring_interval = 60

# Debugging and Development
debug_mode = false
verbose_logging = false
enable_trace_logging = false
trace_file = /var/log/simple-utcd/trace.log
enable_profiling = false
profile_output = /var/log/simple-utcd/profile.out
enable_security_debug = false
enable_performance_debug = false
